"use strict";
/**
 * 
 * @file          xterm 256 colors
 * @version       1.0
 * @author        Ing. Manuel Vargas P.
 * @license       http://creativecommons.org/licenses/by-sa/4.0/
 *
 * -----
 * History
 * v1.0 - initial versiÃ³n
 * -----
 */document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("popup"),t=e=>{var t=e.map((e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*t[0]+.7152*t[1]+.0722*t[2]},r=(e,r)=>{var o=t(e),n=t(r);return(Math.max(o+.05,n+.05)/Math.min(o+.05,n+.05)).toFixed(2)},o=e=>{let t="";return t=e>=7?`AAA<br>${e.toFixed(2)}`:e>=4.5?`AA<br>${e.toFixed(2)}`:t=e>=3?`A<br>${e.toFixed(2)}`:t=`Err<br>${e.toFixed(2)}`,t},n=(n,c,[l,d,u])=>{e?.removeAttribute("hidden");const a=document.querySelector(".info h1"),s=document.querySelector(".info div div");if(s){s.style.backgroundColor=c;let e=t([l,d,u]).toFixed(3);Number(e)>.2?s.style.color="#222":s.style.color="#ddd",s.textContent=e}const i=document.querySelectorAll(".info p");a&&(a.textContent=`Terminal color: ${n}`),i[0].textContent=`color hex: ${c}`,i[1].textContent=`color rgb: (${l}, ${d}, ${u})`,i[2].textContent=`color hsl: ${((e,t,r)=>{e/=255,t/=255,r/=255;let o=Math.min(e,t,r),n=Math.max(e,t,r),c=n-o,l=0,d=0,u=0;return l=0===c?0:n===e?(t-r)/c%6:n===t?(r-e)/c+2:(e-t)/c+4,l=Math.round(60*l),l<0&&(l+=360),u=(n+o)/2,d=0===c?0:c/(1-Math.abs(2*u-1)),d=+(100*d).toFixed(1),u=+(100*u).toFixed(1),`(${l}, ${d}%, ${u}%)`})(l,d,u)}`;const m=[["#000000","#080808","#121212","#1c1c1c","#262626","#303030","#3a3a3a","#444444"],["#b2b2b2","#bcbcbc","#c6c6c6","#d0d0d0","#dadada","#e4e4e4","#eeeeee","#ffffff"]],b=[parseInt(c.slice(1,3),16),parseInt(c.slice(3,5),16),parseInt(c.slice(5,7),16)];let h=0;document.querySelectorAll(".dark div p").forEach(((e,t)=>{e.style.backgroundColor=m[0][Number(t)],e.style.color=c}));document.querySelectorAll(".dark div span").forEach(((e,t)=>{const n=[parseInt(m[0][Number(t)].slice(1,3),16),parseInt(m[0][Number(t)].slice(3,5),16),parseInt(m[0][Number(t)].slice(5,7),16)];h=Number(r(n,b)),e.innerHTML=o(h),e.style.color=h>=4.5?"#333333":h>=3?"#4f4f4f":"#8d2e2e"}));document.querySelectorAll(".light div p").forEach(((e,t)=>{e.style.backgroundColor=m[1][Number(t)],e.style.color=c}));document.querySelectorAll(".light div span").forEach(((e,t)=>{const n=[parseInt(m[1][Number(t)].slice(1,3),16),parseInt(m[1][Number(t)].slice(3,5),16),parseInt(m[1][Number(t)].slice(5,7),16)];h=Number(r(n,b)),e.innerHTML=o(h),e.style.color=h>=4.5?"#000000":h>=3?"#1b1b1b":"#331111"}))};document.querySelectorAll("main p").forEach((t=>{const r=t.textContent.match(/\d+/)[0],o=t.childNodes[1].textContent||"#000";t.style.backgroundColor=o;const[c,l,d]=getComputedStyle(t).backgroundColor.match(/\d+/g)||["0","0","0"],u=Math.round(Math.sqrt(.299*Number(c)*Number(c)+.587*Number(l)*Number(l)+.114*Number(d)*Number(d)));t.style.color=u>127.5?"#000":"#fff",t.addEventListener("click",(()=>n(r,o,[Number(c),Number(l),Number(d)])),!0),document.addEventListener("keydown",(t=>{"Escape"===t.key&&e&&(e.hidden=!0)}),!0)}))}),!0);